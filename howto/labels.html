<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="index.css"/>
  <style>
    body {
      overflow: scroll;
    }
    canvas {
      background-color: #ccc;
    }
  </style>
</head>
<body>
  <div id="ui"></div>
  <h1>Sprite Sheet Labels</h1>
  <p>To allow for more labels in the scene, a single sprite sheet is
    used, with a GL shader configured with custom offsets into the sheet
    for each object.
<script type="module">
  import {PointLight} from './js/lib/three.js/three.module.js';
  import SpriteSheet from './js/SpriteSheet.js';
  import Scene from './js/scene.js';

  import ThreeUi from './js/three_ui.js';
  import * as Utils from './js/utils.mjs';
  import {cube, point} from './js/Shapes.mjs';

  const container = document.getElementById('ui');
  const ui = new ThreeUi(container);

  const c = cube();
  c.position.z = -3;
  ui.scene.add(c);
  const light = new PointLight();
  light.position.set(10, 10, 10);
  ui.scene.add(light);

  const planets = ['Mercury','Venus','Mars','Earth','Jupiter','Saturn','Uranus','Neptune','Pluto'];

  ui.camera.position.set(0, 0, 10);
  const labels = new SpriteSheet(planets.length, 'Mercury', 'medium arial');
  let count = 0;
  const cols = planets.length / 2;
  const xOff = cols / -2 + 0.5;
  const yOff = cols / -2 + 0.5;
  for (let i = 0; i < cols; i++) {
    for (let j = 0; j < cols; j++) {
      const p = point();
      p.position.set(xOff + i, yOff + j, 0);
      ui.scene.add(p);
      const label = labels.alloc(planets[count++]);
      p.add(label);
    }
  }
</script>
</body>
</html>
